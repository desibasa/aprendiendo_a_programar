<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* .error {
            color: rgb(89, 0, 0);
            background-color: red;
        } */
        .input-error {
            color: red;
            border: 1px solid red;
        }
    </style>
</head>

<body>
    <form id="formulario" novalidate>
        <label>Introduce tu nombre</label>
        </br>
        <input type="text" id="nombre" minlength="3" maxlength="18" required placeholder="Juan..."
            title="Debe contener al menos una mayuscula">
        <span id="errornombre" class="error" style="color: red;"></span>
        </br></br>
        <label>Introduce tu email</label>
        </br>
        <input type="email" id="email" required placeholder="aaa@aaa.com">
        <span id="erroremail" class="error" style="color: red;"></span>
        </br></br>
        <label>Introduce tu edad</label>
        </br>
        <input type="number" id="edad" minlength="18" maxlength="67" placeholder="min 18 max 67">
        <span id="erroredad" class="error" style="color: red;"></span>
        </br></br>
        <label>Introduce una contraseña</label>
        </br>
        <input type="password" id="contraseña" required maxlength="18" placeholder="***"
            pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$">
        <span id="errorcontraseña" class="error" style="color: red;"></span>
        </br></br>
        <label>Introduce tu fecha de nacimiento</label>
        </br>
        <input type="date" id="nacimiento" required>
        <span id="errornacimiento" class="error" style="color: red;"></span>
        </br></br>
        <label>Introduce tu red social (opcional)</label>
        </br>
        <input type="url" id="redsocial" placeholder="@instagram">
        </br></br>
        <label>Introduce tu numero de telefono</label>
        </br>
        <input type="tel" id="telefono" required minlength="9" placeholder="+34...">
        <span id="errortelefono" class="error" style="color: red;"></span>
        </br></br>
        <label>Selecciona tu estado laboral</label>
        </br>
        <input type="checkbox" id="desempleo" name="En desempleo">En desempleo</input>
        <input type="checkbox" id="trabajando" name="Trabajando">Trabajando</input>
        <span id="errorlaboral" class="error" style="color: red;"></span>
        </br></br>
        <label>Estado civil</label>
        <select required id="estadocivil">
            <option>Solter@</option>
            <option>Divorciad@</option>
            <option>Viud@</option>
        </select>
        <span id="errorestadocivil" class="error" style="color: red;"></span>
        </br></br>
        <label>Por favor dejanos tu opinion</label>
        </br>
        <textarea minlength="6" id="textarea">Escribe aqui...</textarea>
        </br></br>
        <label>Introduce tu peso</label>
        </br>
        <input type="number" id="peso" step="0.1" placeholder="70.5">
        <span id="errorpeso" class="error" style="color: red;"></span>
        <!-- step permite introducir numeros decimales -->
        </br></br>
        <label>Introduce el precio de tu producto</label>
        </br>
        <input type="number" step="0.1" id="precio">
         <span id="errorprecio" class="error" style="color: red;"></span>
        </br></br>
        <input type="submit" placeholder="validar" value="Validar">
        <span id="errorvalidar" class="error" style="color: red;"></span>

    </form>
    <script>

        let formulario = document.getElementById("formulario");

        formulario.addEventListener("submit", validaciones => {
            validaciones.preventDefault();

            let nombre = document.getElementById("nombre");
            let email = document.getElementById("email");
            let edad = document.getElementById("edad");
            let contraseña = document.getElementById("contraseña");
            let nacimiento = document.getElementById("nacimiento");
            let telefono = document.getElementById("telefono");
            let desempleo = document.getElementById("desempleo");
            let trabajando = document.getElementById("trabajando");
            let estadocivil = document.getElementById("estadocivil");
            let textarea = document.getElementById("textarea");
            let peso = document.getElementById("peso");
            let precio = document.getElementById("precio");
            let valido = true;

            let errornombre = document.getElementById("errornombre");

            if (nombre.value.length < 3) {
                nombre.classList.add("input-error");
                errornombre.textContent = "Necesitas al menos 3 caracteres";
                valido = false;
            }
            else {
                nombre.classList.remove("input-error");
                errornombre.textContent = "";
            }

            let erroremail = document.getElementById("erroremail");

            if (!email.value.includes("@") || !email.value.includes(".")) {
                email.classList.add("input-error");
                erroremail.textContent = "Necesitas un @ y un .";
                valido = false;
            }
            else {
                email.classList.remove("input-error");
                erroremail.textContent = "";
            }

            let errorcontraseña = document.getElementById("errorcontraseña");

            if (!/[A-Z]/.test(contraseña.value) || !/[!@#$%^&*(),.?":{}|<>]/.test(contraseña.value)) {
                contraseña.classList.add("input-error");
                errorcontraseña.textContent = "Necesitas una mayúscula y un carácter especial";
                valido = false;
            } else {
                contraseña.classList.remove("input-error");
                errorcontraseña.textContent = "";
            }

            let errorprecio=document.getElementById("errorprecio");

            let valor = parseFloat(precio.value);

            if(valor < 1 || valor > 9999 || isNaN(valor)){
                precio.classList.add("input-error");
                errorprecio.textContent = "Precio no aceptado";
                valido = false;
            }
            else{
                precio.classList.remove("input-error");
                errorprecio.textContent = "";
            }

        });


    </script>
</body>

</html>